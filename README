###========== README ==========###

This README describes the distance-omnibus code.

Distance-omnibus was developed by the Bolocam Galactic Plane Survey team for
the purpose of resolving distances to BGPS sources.  While developed for the
BGPS, it had been structured for use with any (sub-)millimeter Galactic plane 
survey.

The formalism behind this code base is described in Ellsworth-Bowers et al.
(2013, ApJ, 770, 39) and Ellsworth-Bowers et al. (2014, ApJ, 797, ppp).  The
principal aspect is the derivation of distance probability density functions
(DPDFs) for molecular cloud clumps identified in (sub-)millimeter continuum 
Galactic plane surveys.

Routines are written in the Interactive Data Language (IDL), and are compatible
with IDL 8.x (http://www.exelisvis.com/ProductsServices/IDL.aspx).

The code is designed to run nearly autonomously after the configuration files
have been properly edited to reflect the particulars of the data available and
the locations of files on the local machine's hard drive.

To run from the command line:
IDL> distance_omnibus

All intermediate data products (with one principal exception) are created
automatically from within the code and do not need to be generated manually.

The exception is the generation of the star-subtracted GLIMPSE V3.5 images for
use with the EMAF methodology.  These mosaics are generated by
create_local_files/omni_glimpse_starsub.pro and may take several days to
complete.

Several external libraries are required for distance-omnibus routines:
   * IDLASTRO (http://idlastro.gsfc.nasa.gov/)
   * The Coyote Graphics System (http://www.idlcoyote.com/idldoc/cg/index.html)
   * The Markwardt IDL Library (http://www.physics.wisc.edu/~craigm/idl/)


Please see the output messages from the code for assistance along the way.
If using the EMAF method, you will need to use the routine omni_mir_examine.pro
to perform a by-eye inspection of each potential EMAF source following the
criteria set out in EB13.  Once the rejected sources have een identified, their
catalog numbers should be entered into the appropriate [survey]_reject_emaf.txt
file (where [survey] should be replaced by the survey name entered in
survey_info.conf).

For including velocity information beyond that included in this release, please
follow the examples of the BGPS_V2.




Last Updated: 11/11/14, TPEB

